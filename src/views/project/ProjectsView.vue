<template>
  <div class="wrapper">
    <div class="project">
      <div class="project-banner">
        <img :src="'http://62.113.96.171:3000/' + project.bannerFilePath"
             alt=""
             v-if="project.bannerFilePath !== ''">

        <img src="/src/assets/images/banner.webp"
             alt=""
             v-else>

      </div>
      <div class="project-header">
        <div class="left">
          <div class="avatar">
              <img :src="'http://62.113.96.171:3000/' + project.avatarFilePath"
                   alt=""
                   v-if="project.avatarFilePath !== ''">

              <img src="/src/assets/images/avatar.webp"
                   alt=""
                   v-else>
            <div class="favorite"
                 v-on:click="!favorite ? favorite = true : favorite = false"
                 :class="{active: favorite}">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="15" viewBox="0 0 18 15" fill="none">
                <path d="M17.8439 5.89384C17.9178 5.6196 17.9491 5.3353 18 5.05562V4.4311C17.9448 4.12916 17.9126 3.82152 17.8301 3.52636C17.4873 2.3023 16.7299 1.36471 15.5924 0.698098C14.8063 0.23731 13.9422 0.0170985 13.0261 0.0157409C11.9435 0.0141117 10.9418 0.298405 10.0748 0.925098C9.68808 1.20423 9.33757 1.52762 8.93818 1.85808C8.82115 1.73888 8.68831 1.59768 8.54885 1.46246C7.82367 0.758649 6.95128 0.297318 5.93425 0.10073C4.89134 -0.101017 3.87115 -0.00163713 2.9007 0.416249C1.5415 1.00113 0.635463 1.97837 0.166198 3.31566C0.097476 3.51143 0.0546326 3.71535 0 3.91547V5.5175C0.00690096 5.52945 0.0169649 5.54058 0.0195527 5.55334C0.221406 6.55665 0.714537 7.41088 1.48284 8.12935C2.39176 8.97979 3.29319 9.83728 4.19808 10.6918C5.64843 12.0614 7.0985 13.4313 8.54914 14.8006C8.83093 15.0667 9.10409 15.0659 9.38502 14.8017C11.7449 12.5819 14.1038 10.3613 16.4651 8.1432C17.14 7.50972 17.6095 6.76437 17.8439 5.89384Z" fill="white"/>
              </svg>
            </div>
          </div>
          <div class="name">
             {{ project.name }}

            <img src="./../../assets/images/verified.webp"
                 v-if="project.verified === true"
                 class="verified"
                 title="Проверенный магазин">

          </div>
        </div>


        <div class="rating">
          <div class="stars">
            <div class="project-rating"
                 v-if="project.ratingAvg !== null"
                 :class="{
                        goodGreen: project.ratingAvg === 5,
                        green: project.ratingAvg >= 4 && project.ratingAvg < 5,
                        yellow: project.ratingAvg > 3 && project.ratingAvg < 4,
                        orange: project.ratingAvg > 2 && project.ratingAvg <= 3,
                        red: project.ratingAvg > 1 && project.ratingAvg <= 2,
                        badRed: project.ratingAvg >= 0 && project.ratingAvg <= 1,
                          }">
              {{ project.ratingAvg }}
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" >
                <path
                    d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"/>
              </svg>
            </div>

            <div class="project-rating-no" v-else>
              У проекта нет оценок
            </div>

          </div>


        </div>
      </div>

      <div class="project-body">
        <div class="tabs-links">
          <button
              v-on:click="switchTabs('description')"
              class="recommended">
            Описание проекта
          </button>
          <button
              v-on:click="switchTabs('services')"
              class="fresh active">
            Услуги и товары
          </button>

        </div>
        <div class="tabs-body">
          <div class="tab-content">
            <div class="flex"
                 v-if="this.tab === 'description'">
              <project-description
              v-bind:projectDescription="project.description"
              v-bind:projectLinks="{link: project.links }">

              </project-description>

            </div>
            <div class="flex"
                 v-if="this.tab === 'services'">
              <services-card
                  v-for="(item, index) in services"
                  v-bind:name="item.name"
                  v-bind:image="item.image"
                  v-bind:description="item.description"
                  :class="{ hightlight: $props.hightlight}"
              >
                {{ item.name }}
              </services-card>
              <div class="addService">
                <button
                    v-on:click="switchTabs('addService')"
                    class="btn btn-filled">
                  Добавить услугу
                </button>
              </div>

            </div>

            <div class="flex"
                 v-if="this.tab === 'addService'">

              <add-service></add-service>
            </div>
          </div>
          <div class="tab-rating">
            <div class="onsite">
              На сайте с
              {{ new Date(project.createdAt)
                .toLocaleString('ru-ru', { month: 'long', year: 'numeric' }).replace(/\ь/, 'я').replace(/\й/, 'я') }}
            </div>

            <div class="project-detailed-rating box-shadow">
              <div class="heading">
                Оценило 16 человек
              </div>
              <div class="five-stars">
                <div class="project-review-stars">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <span>
                    651
                  </span>
                </div>

                <div class="project-review-stars">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg class="op3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                       fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <span>
                    651
                  </span>
                </div>

                <div class="project-review-stars">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg class="op3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                       fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg class="op3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                       fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <span>
                    6
                  </span>
                </div>
                <div class="project-review-stars">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg class="op3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                       fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg class="op3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                       fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg class="op3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                       fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <span>
                    5
                  </span>
                </div>
                <div class="project-review-stars">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg class="op3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                       fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg class="op3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                       fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg class="op3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                       fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <svg class="op3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                       fill="none">
                    <path
                        d="M8.93325 0.7084L10.1489 4.61808C10.2802 5.04057 10.6571 5.32648 11.0822 5.32648H15.0168C15.9674 5.32648 16.3627 6.59722 15.5936 7.18118L12.4105 9.59732C12.0665 9.85835 11.9227 10.3211 12.054 10.7436L13.2697 14.6533C13.5635 15.5978 12.5287 16.3833 11.7597 15.7996L8.57651 13.3835C8.23253 13.1224 7.7669 13.1224 7.42292 13.3835L4.23977 15.7996C3.47071 16.3833 2.43593 15.5978 2.72972 14.6533L3.94542 10.7436C4.07671 10.3211 3.93294 9.85835 3.58896 9.59732L0.406373 7.18088C-0.362688 6.59722 0.0326187 5.32618 0.983169 5.32618H4.91752C5.3426 5.32618 5.71947 5.04028 5.85077 4.61778L7.06675 0.7084C7.36053 -0.236133 8.63947 -0.236133 8.93325 0.7084Z"
                        fill="#6C7AFF"/>
                  </svg>
                  <span>
                    1
                  </span>
                </div>
              </div>


            </div>

            <div class="tab-stats box-shadow">
              <div class="stat">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="11" viewBox="0 0 20 11" fill="none">
                  <path
                      d="M0 5.5522C5.36282 -1.78782 14.5224 -1.91065 20 5.54408C17.4576 8.73988 14.3273 10.9954 10.0053 11C5.67922 11.0041 2.55604 8.73235 0 5.55277V5.5522ZM10.0195 9.10372C12.0303 9.09387 13.6915 7.46063 13.6886 5.49716C13.6862 3.54005 12.0149 1.89291 10.0207 1.8819C7.99811 1.87089 6.29192 3.55164 6.31557 5.53192C6.33923 7.5064 8.0058 9.11357 10.0195 9.10372ZM1.48264 5.49889C2.94518 7.21151 4.67739 8.49191 6.86262 9.16861C5.82057 8.14777 5.21497 6.95716 5.20788 5.50816C5.20078 4.06554 5.81702 2.88189 6.81176 1.83613C4.6632 2.54122 2.92211 3.77759 1.48264 5.49831V5.49889ZM18.502 5.5267C17.1903 3.79671 14.4674 1.94563 13.1817 1.8958C15.3877 4.44328 15.3794 6.27119 13.0682 9.25436C15.3232 8.49075 17.0554 7.20977 18.502 5.5267Z"
                      fill="#6C7AFF"/>
                  <path
                      d="M9.85082 4.00324C10.8514 3.96266 11.5608 4.30421 11.879 4.95173C12.1707 5.54545 11.9218 6.24541 11.2733 6.65171C10.6036 7.07123 9.62661 7.11638 8.88706 6.76206C8.12098 6.39452 7.8377 5.78348 8.08964 5.03974C9.41204 5.29875 9.91713 5.01329 9.85022 4.00324H9.85082Z"
                      fill="#6C7AFF"/>
                </svg>
                Просмотры: {{ project.viewCount }}
              </div>
              <div class="stat" v-if="project.deposit === ''">
                <svg xmlns="http://www.w3.org/2000/svg" width="11" height="18" viewBox="0 0 11 18" fill="none">
                  <path
                      d="M5.11204 17.16V0.23999H6.26404V17.16H5.11204ZM5.56204 15.144C4.60204 15.144 3.68404 15 2.80804 14.712C1.93204 14.412 1.24204 14.028 0.738037 13.56L1.40404 12.156C1.88404 12.576 2.49604 12.924 3.24004 13.2C3.98404 13.476 4.75804 13.614 5.56204 13.614C6.29404 13.614 6.88804 13.53 7.34404 13.362C7.80004 13.194 8.13604 12.966 8.35204 12.678C8.56804 12.378 8.67604 12.042 8.67604 11.67C8.67604 11.238 8.53204 10.89 8.24404 10.626C7.96804 10.362 7.60204 10.152 7.14604 9.99599C6.70204 9.82799 6.21004 9.68399 5.67004 9.56399C5.13004 9.44399 4.58404 9.30599 4.03204 9.14999C3.49204 8.98199 2.99404 8.77199 2.53804 8.51999C2.09404 8.26799 1.73404 7.93199 1.45804 7.51199C1.18204 7.07999 1.04404 6.52799 1.04404 5.85599C1.04404 5.20799 1.21204 4.61399 1.54804 4.07399C1.89604 3.52199 2.42404 3.08399 3.13204 2.75999C3.85204 2.42399 4.76404 2.25599 5.86804 2.25599C6.60004 2.25599 7.32604 2.35199 8.04604 2.54399C8.76604 2.73599 9.39004 3.01199 9.91804 3.37199L9.32404 4.81199C8.78404 4.45199 8.21404 4.19399 7.61404 4.03799C7.01404 3.86999 6.43204 3.78599 5.86804 3.78599C5.16004 3.78599 4.57804 3.87599 4.12204 4.05599C3.66604 4.23599 3.33004 4.47599 3.11404 4.77599C2.91004 5.07599 2.80804 5.41199 2.80804 5.78399C2.80804 6.22799 2.94604 6.58199 3.22204 6.84599C3.51004 7.10999 3.87604 7.31999 4.32004 7.47599C4.77604 7.63199 5.27404 7.77599 5.81404 7.90799C6.35404 8.02799 6.89404 8.16599 7.43404 8.32199C7.98604 8.47799 8.48404 8.68199 8.92804 8.93399C9.38404 9.18599 9.75004 9.52199 10.026 9.94199C10.302 10.362 10.44 10.902 10.44 11.562C10.44 12.198 10.266 12.792 9.91804 13.344C9.57004 13.884 9.03004 14.322 8.29804 14.658C7.57804 14.982 6.66604 15.144 5.56204 15.144Z"
                      fill="#6C7AFF"/>
                </svg>
                Депозит: 5000$
              </div>
            </div>


          </div>
        </div>


      </div>

    </div>
  </div>

</template>

<script>
import servicesCard from "./ServicesCard.vue";
import ProjectDescription from "./ProjectDescription.vue";
import {ref} from "vue";
import AddService from "../addItems/AddService.vue";

export default {

  name: "ProjectsView.vue",
  components: {AddService, servicesCard, ProjectDescription},


  data() {
    return {
      services: ref(null),
      tab: 'services',
      favorite: false,
      project: {}
    }
  },
  props: ['selectedId', 'highlight', 'tab'],
  setup(props) {

  },

  methods: {
    getProjectFullInfo () {
      const myHeaders = new Headers();
      myHeaders.append("Content-Type", "application/json");
      const projectId = window.location.pathname.replace('/project/', '');

      fetch("http://62.113.96.171:3000/projects/" + projectId, {
        method: "GET",
        headers: myHeaders,
      })
          .then((response) => response.json())
          .then((result) => {
            this.project = result.project
            console.log(result.project)
          })
          .catch((error) => console.error(error));
    },
    switchTabs(tab) {
      if (tab === 'description') {
        this.tab = 'description'
        document.querySelector('.recommended').classList.add('active')
        document.querySelector('.fresh').classList.remove('active')

      } else if (tab === 'services') {
        this.tab = 'services'
        document.querySelector('.recommended').classList.remove('active')
        document.querySelector('.fresh').classList.add('active')

      }
    },
  },
  created() {

  },
  mounted() {
    this.getProjectFullInfo()

    window.scrollTo({
      top: 0,
      left: 0,
      behavior: "smooth",
    })
  }

}
</script>

<style scoped lang="scss">
.tabs-links {
  margin-bottom: 20px;
}

.services {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.flex {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;

  .project {
    width: 30%;

  }
}

.content {
  padding: 0;
}

.project {
  width: 100%;

  .project-banner {
    width: 100%;
    height: 220px;
    overflow: hidden;
    border-radius: 10px;

    img {
      width: 100%;
      height: 100%;
    }
  }

  .project-header {
    display: flex;
    width: 100%;
    align-items: flex-end;

    position: relative;
    margin-top: -70px;
    flex-basis: border-box;
    flex-grow: 1;
    flex-shrink: 1;

    .left {
      padding-left: 30px;
      width: 70%;
      display: flex;
      align-items: end;

      .avatar {
        position: relative;
        background-color: #ffffff;
        border-radius: 10px;

        img {
          width: 100px;
          height: 100px;
          border-radius: 10px;
        }
      }

      .name {
        margin-left: 10px;
      }
    }

    .rating {
      width: 30%;
      justify-content: end;
      display: flex;
      align-items: center;

      .stars {
        margin-right: 20px;

        font-family: Montserrat;
        font-size: 13px;
        font-style: normal;
        font-weight: 200;
        line-height: normal;
        color: #3e4b5b;
        .project-rating {
          padding: 5px 15px;
          color: #fff;
          font-weight: 700;
          border-radius: 5px;
          font-size: 14px;

          svg {
            width: 10px;
            height: 10px;
            margin-right: 0;
            path {
              fill: #fff;
            }
          }

          &.goodGreen {
            background-color: #0fd067;
          }
          &.green {
            background-color: #56d790;
          }
          &.yellow {
            background-color: yellow;
          }
          &.orange {
            background-color: orange;
          }
          &.red {
            background-color: orangered;
          }
          &.badRed {
            background-color: red;
          }
          span {
            background-color: #6C7AFF;
            padding: 5px 15px;
            color: #fff;
            font-weight: 700;
            border-radius: 5px;
          }
        }
      }
    }
  }

  .project-body {
    padding-left: 30px;
    margin-top: 40px;
  }

  .recommend-project {
    svg {
      width: 22px;
      height: 22px;

      path {
        fill: #0a58ca;
      }
    }
  }

}

.name {
  display: flex;
  align-items: center;
  gap: 10px;
  position: relative;
  top: -5px;

  color: var(--secondary, #2B2B2B);
  font-family: Montserrat;
  font-size: 18px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;

  .verified {
    width: 17px;
    height: 17px;

  }
}

.tabs-body {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 20px;

  .tab-content {
    width: 73%;
  }

  .tab-rating {
    width: 22%;

    .onsite {
      color: var(--86868B, #494A4E);
      font-family: Montserrat;
      font-size: 12px;
      font-style: normal;
      font-weight: 400;
      width: 100%;
      text-align: right;
      margin-bottom: 15px;

    }

    .project-detailed-rating, .tab-stats, .project-links {
      background-color: #fff;
      border-radius: 15px;
      margin-bottom: 30px;
      padding: 10px;
    }

    .project-detailed-rating {
      .heading {
        color: var(--secondary, #2B2B2B);
        font-family: Montserrat;
        font-size: 14px;
        font-style: normal;
        font-weight: 400;
        line-height: 25px; /* 178.571% */
      }

      .five-stars {

        .project-review-stars {
          margin-bottom: 5px;
          display: flex;
          align-items: center;

          svg {
            width: 20px!important;
            height: 20px!important;
            path {

            }

            &.op3 {
              opacity: .3;
            }

            margin-right: 8px;
          }

          span {
            margin-left: 5px;
            color: var(--secondary, #2B2B2B);
            font-family: Montserrat;
            font-size: 12px;
            font-style: normal;
            width: 30px;
            font-weight: 400;
          }
        }
      }
    }

    .tab-stats {
      .stat {
        color: var(--86868B, #494A4E);
        font-family: Montserrat;
        font-size: 12px;
        font-style: normal;
        font-weight: 400;
        line-height: 24px; /* 200% */
        display: flex;
        align-items: center;

        svg {
          width: 20px;
          margin-right: 5px;
        }
      }

    }

    .project-links {
      .links-heading {
        color: var(--secondary, #2B2B2B);
        font-family: Montserrat;
        font-size: 14px;
        font-style: normal;
        font-weight: 400;
        line-height: 36px; /* 257.143% */
        margin-bottom: 5px;
      }

      .links-links {
        width: 100%;

        a {
          display: block;
          width: 100%;
          border: 1px solid #6C7AFF;
          border-radius: 10px;
          margin-bottom: 5px;

          color: var(--new-dark, #6C7AFF);
          text-align: center;
          font-family: Montserrat;
          font-size: 14px;
          font-style: normal;
          font-weight: 400;
          line-height: 36px; /* 257.143% */
        }
      }
    }
  }
}
.favorite {
  position: absolute;
  right: 5px;
  top: 5px;
  border-radius: 400px;
  background-color: rgba(0,0,0,.3);
  padding: 5px;
  transition: .3s ease;
  svg {
    transition: .3s ease;
    path {
      fill: transparent;
      stroke: #fff;
      stroke-linejoin: round;
      stroke-linecap: round;
      stroke-width: 1px;
      transition: .3s ease;
    }
  }
  &.active {
    svg {
      path {
        fill: #fff;
      }
    }
  }
}
</style>