<script>
import SidebarMenu from "./components/menus/SidebarMenu.vue";
import TopMenu from "./components/menus/TopMenu.vue";

export default {
  components: { SidebarMenu, TopMenu },
  data() {
    return {
      isLoaded: false,
      isAdmin: false,

    }
  },
  created() {
    this.setTheme()
  },
  mounted() {
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelector('.preloader').style.display = 'none'
      this.isLoaded = true

    })
    if (localStorage.getItem('isAdmin') === 'false') {
      this.isAdmin = false
    } else {
      this.isAdmin = true
    }

  },
  computed: {
    setTransitionProperty: function () {
      return router.meta.transition
    }
  },
  methods: {
    switchTheme() {
      const themeSwitch = document.querySelector('#switcher');
      document.querySelector('.theme').classList.add(localStorage.getItem('theme'))

      themeSwitch.addEventListener('click', function () {

        document.querySelector('.theme').classList.remove(localStorage.getItem('theme'))
        localStorage.getItem('theme') === 'light' ? localStorage.setItem('theme', 'dark') : localStorage.setItem('theme', 'light')
        document.querySelector('body').classList.add(localStorage.getItem('theme'))

      });

    },
    setTheme() {
      document.querySelector('.theme').classList.add(localStorage.getItem('theme'))
      if (!localStorage.getItem('theme')) {
        localStorage.setItem('theme', 'light')
      }
    }

  },

}
</script>

<template>
  <div class="global-wrapper" v-if="this.isLoaded === true">
    <header class="header" >
      <div class="row  box box-shadow">
        <div class="d-flex justify-between align-center">
          <div class="logo">
            <router-link to="/" class="">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 103" fill="none">
                <path d="M119.889 43.0289C119.885 43.0071 119.879 42.9857 119.872 42.9647L119.8 42.7501C119.774 42.6715 119.747 42.6025 119.719 42.5406C119.29 41.1848 118.868 39.9857 118.464 38.9761C118.042 37.9229 117.61 37.0802 117.179 36.471C117.045 36.282 116.815 36.1864 116.586 36.2252C116.358 36.2639 116.172 36.43 116.108 36.6524L114.14 43.4895C114.087 43.6715 114.123 43.8673 114.237 44.0186C114.351 44.1697 114.529 44.2587 114.718 44.2587H119.408C119.59 44.2587 119.762 44.1764 119.876 44.0348C119.991 43.8933 120.035 43.7077 119.997 43.5298L119.889 43.0287V43.0289ZM115.519 43.0538L116.874 38.3485C117.03 38.6718 117.188 39.0305 117.345 39.4236C117.742 40.4155 118.158 41.5997 118.583 42.9433C118.592 42.9734 118.604 43.0029 118.618 43.0311C118.62 43.0352 118.624 43.0426 118.629 43.0538H115.519Z" fill="#2B2B2B"/>
                <path d="M131.714 55.6163C131.506 55.0627 131.294 54.5069 131.085 53.9643C130.882 53.4404 130.686 52.9281 130.494 52.4238C129.498 49.8631 128.694 47.6909 128.103 45.965L125.416 38.2256C124.472 35.6068 123.707 33.1678 123.141 30.9768C123.073 30.7107 122.833 30.5248 122.558 30.5248H120.625C119.137 30.5248 117.237 30.5069 114.978 30.4713C112.703 30.4355 110.69 30.3576 108.997 30.2397C108.72 30.2207 108.466 30.3922 108.381 30.6557L106.556 36.3118C106.496 36.4952 106.529 36.6956 106.642 36.8514C106.755 37.0071 106.936 37.0992 107.129 37.0992H110.439L107.605 44.4427C107.16 45.5992 106.707 46.7348 106.258 47.824L106.575 46.5998C106.654 46.2962 106.487 45.9832 106.191 45.8799L102.396 44.5556C102.13 44.4628 101.835 44.5665 101.686 44.8055L101.508 45.0915C101.506 45.0945 101.504 45.0974 101.502 45.1004L101.398 45.2733C100.528 46.6468 99.6396 47.7326 98.7586 48.5007C97.8887 49.259 97.0086 49.7987 96.143 50.1052C95.4321 50.3573 94.6622 50.5081 93.8479 50.5555L105.643 31.8061C105.704 31.7099 105.735 31.5989 105.735 31.4854V31.1274C105.735 30.7946 105.466 30.5248 105.133 30.5248H91.5625L92.0979 29.5115C92.2132 29.2932 92.1835 29.0264 92.0232 28.8387L91.8085 28.5877C91.6941 28.4538 91.5267 28.3768 91.3505 28.3768H85.3004C85.0277 28.3768 84.7891 28.5601 84.7184 28.8234L81.7472 39.921C81.6652 40.2269 81.8343 40.5441 82.1338 40.6468L86.0002 41.9714C86.2652 42.0622 86.5577 41.9584 86.7062 41.7209L86.8756 41.4502L87.0441 41.214C87.0489 41.2072 87.0535 41.2004 87.0582 41.1935C87.7893 40.0734 88.5263 39.1734 89.2488 38.5185C89.9502 37.8831 90.6895 37.424 91.4457 37.1538C91.9687 36.9671 92.5347 36.8432 93.1363 36.7833L82.0917 54.4419C82.0304 54.2819 81.9692 54.1226 81.9083 53.9645C81.7058 53.4406 81.5097 52.9283 81.3177 52.424C80.3216 49.8635 79.5176 47.6913 78.9267 45.9651L76.2396 38.2258C75.2955 35.607 74.5302 33.168 73.965 30.977C73.8964 30.7109 73.6565 30.525 73.3817 30.525H71.4485C69.9603 30.525 68.0605 30.5071 65.8018 30.4715C63.5266 30.4357 61.514 30.3578 59.8202 30.2399C59.5435 30.2209 59.29 30.3923 59.2049 30.6559L57.3793 36.312C57.32 36.4954 57.3521 36.6958 57.4654 36.8515C57.5788 37.0073 57.7598 37.0994 57.9524 37.0994H61.2625L58.4282 44.4429C57.9506 45.6841 57.4645 46.902 56.9838 48.0624C56.9781 48.0764 56.972 48.0906 56.9663 48.1047C56.7723 47.0674 56.3571 46.1517 55.724 45.3715C55.0323 44.5197 54.1259 43.8668 53.0197 43.4218C53.8393 42.8649 54.5115 42.1913 55.0259 41.4106C55.733 40.3364 56.0917 39.1529 56.0917 37.8929C56.0917 36.3703 55.6169 35.03 54.6806 33.9093C53.7664 32.815 52.4613 31.9648 50.802 31.3824C49.1808 30.8133 47.2529 30.5248 45.0719 30.5248H32.6146C32.3142 30.5248 32.0597 30.7461 32.018 31.0436L31.1944 36.9147C31.1739 37.061 31.2079 37.2095 31.2896 37.3324L31.4327 37.5471C31.5751 37.7608 31.8374 37.8606 32.0859 37.796C32.6242 37.6558 33.24 37.5048 33.9684 37.3347C34.3006 37.257 34.5624 37.2038 34.7684 37.168V50.1363C34.7684 52.1826 34.6968 54.0809 34.5554 55.7783C34.5541 55.7949 34.5534 55.8115 34.5534 55.8283V56.1863C34.5534 56.5191 34.8232 56.7888 35.1559 56.7888H46.8981C49.8318 56.7888 52.2142 56.2195 53.9889 55.0977C53.9192 55.2642 53.8498 55.431 53.7806 55.5982C53.7503 55.6713 53.7348 55.7495 53.7348 55.8285V56.1865C53.7348 56.5192 54.0046 56.789 54.3373 56.789H66.1149C66.4172 56.789 66.6726 56.565 66.7123 56.2653L67.3923 51.1102C67.4113 50.9657 67.3774 50.8192 67.2967 50.6978L67.1537 50.4828C67.042 50.3149 66.8536 50.2139 66.6521 50.2139H64.2419C64.4161 49.6374 64.5288 49.2634 64.5801 49.092C64.5827 49.0831 64.5851 49.0742 64.5875 49.0654C64.5997 49.0165 64.6139 48.9655 64.6298 48.9131H70.8935L71.284 50.2139H68.8719C68.6437 50.2139 68.4351 50.3429 68.3331 50.547L68.2255 50.762C68.1705 50.8722 68.1504 50.9966 68.1681 51.1184L68.9197 56.2734C68.9629 56.5694 69.2166 56.789 69.5158 56.789H96.6519L96.1166 57.8023C96.0011 58.0212 96.031 58.2882 96.1921 58.4761L96.407 58.7267C96.5215 58.8601 96.6885 58.9369 96.8641 58.9369H102.914C103.188 58.9369 103.428 58.7512 103.497 58.4855L103.936 56.7892H115.291C115.593 56.7892 115.848 56.5652 115.888 56.2655L116.568 51.1104C116.587 50.9659 116.553 50.8194 116.473 50.698L116.33 50.483C116.218 50.3151 116.03 50.2143 115.828 50.2143H113.418C113.592 49.6378 113.705 49.2638 113.756 49.0923C113.759 49.0835 113.761 49.0746 113.763 49.0658C113.776 49.017 113.79 48.9659 113.806 48.9135H120.069L120.46 50.2143H118.048C117.82 50.2143 117.611 50.3433 117.509 50.5474L117.402 50.7624C117.347 50.8726 117.326 50.9969 117.344 51.1187L118.096 56.2738C118.139 56.5698 118.393 56.7894 118.692 56.7894H131.15C131.483 56.7894 131.753 56.5196 131.753 56.1869V55.8289C131.753 55.7565 131.739 55.6848 131.714 55.617L131.714 55.6163ZM46.8979 55.5836H35.78C35.9084 53.9294 35.9734 52.0984 35.9734 50.1361V36.4967C35.9734 36.164 35.7036 35.8942 35.3709 35.8942C35.0109 35.8942 34.4624 35.9814 33.6942 36.161C33.2496 36.2649 32.8462 36.3618 32.4759 36.4535L33.1385 31.7295H45.0724C47.1171 31.7295 48.9108 31.9952 50.4035 32.5191C51.8553 33.0287 52.9834 33.7563 53.7566 34.6817C54.5176 35.5926 54.8875 36.643 54.8875 37.8929C54.8875 38.9276 54.6038 39.8615 54.0201 40.7479C53.4366 41.6338 52.5984 42.3598 51.5289 42.9053C51.3272 43.0083 51.2 43.2155 51.2 43.442V43.6566C51.2 43.9312 51.3858 44.1711 51.6518 44.2399C52.997 44.5876 54.0526 45.2239 54.7891 46.1309C55.5296 47.0432 55.8895 48.1543 55.8895 49.5276C55.8895 50.1423 55.8088 50.7091 55.6472 51.2313C55.5865 51.3728 55.5261 51.5142 55.4651 51.6557C55.3984 51.8132 55.33 51.9742 55.26 52.1379C54.8791 52.8198 54.3241 53.4109 53.5892 53.9195C51.9933 55.0241 49.7422 55.5842 46.8979 55.5842V55.5836ZM70.0366 55.5836L69.4292 51.4186H72.0932C72.2837 51.4186 72.4629 51.3286 72.5765 51.1758C72.6902 51.023 72.7249 50.8255 72.6703 50.643L71.9183 48.1372C71.8419 47.8823 71.6073 47.7079 71.3412 47.7079H64.1815C63.9049 47.7079 63.6637 47.8963 63.5969 48.1648C63.5764 48.2468 63.551 48.3337 63.5207 48.4236C63.4821 48.5389 63.4487 48.6516 63.4214 48.7589C63.3472 49.0067 63.1579 49.6343 62.853 50.6417C62.7979 50.8242 62.8324 51.022 62.9459 51.1752C63.0595 51.3284 63.2389 51.4186 63.4297 51.4186H66.1358L65.5862 55.5836H55.091C55.3089 55.0631 55.5293 54.5478 55.7481 54.0466C55.958 53.5653 56.1595 53.0986 56.3494 52.6537C56.5202 52.3374 56.6622 52.0058 56.7742 51.6589C57.225 50.6081 57.6694 49.5557 58.0969 48.5236C58.5817 47.3536 59.0715 46.1262 59.5526 44.876L62.7028 36.7137C62.7742 36.5284 62.7499 36.3197 62.6377 36.156C62.5253 35.9923 62.3395 35.8943 62.1409 35.8943H58.7799L60.2071 31.473C61.82 31.575 63.6927 31.6433 65.7828 31.6762C68.0478 31.7118 69.9539 31.7299 71.4483 31.7299H72.9166C73.4778 33.8384 74.2132 36.1582 75.1036 38.6277L77.7875 46.3578C78.3828 48.0971 79.1928 50.285 80.1932 52.8567C80.3843 53.3587 80.5811 53.873 80.7842 54.3987C80.9348 54.7888 81.0865 55.1858 81.2373 55.584H70.036L70.0366 55.5836ZM97.5163 57.7313L98.1838 56.4674C98.2825 56.2806 98.276 56.0559 98.167 55.875C98.0579 55.6942 97.8621 55.5836 97.651 55.5836H82.799L94.7611 36.4581C94.8772 36.2725 94.8835 36.0383 94.7774 35.8467C94.6713 35.6552 94.4694 35.5363 94.2503 35.5363H93.9997C92.9333 35.5363 91.9379 35.6987 91.0407 36.0191C90.1344 36.343 89.2595 36.8835 88.4402 37.6257C87.6435 38.3478 86.8415 39.3231 86.0563 40.5246L85.9461 40.679L83.057 39.6892L85.7633 29.5817H90.6985L90.0307 30.8459C89.932 31.0327 89.9384 31.2575 90.0475 31.4383C90.1566 31.6192 90.3522 31.7297 90.5635 31.7297H104.268L92.2372 50.8534C92.1204 51.039 92.1138 51.2734 92.2199 51.4655C92.326 51.6574 92.5279 51.7766 92.7473 51.7766H93.2839C94.4458 51.7766 95.5434 51.5963 96.5458 51.2411C97.5551 50.8838 98.5659 50.2675 99.5508 49.4092C100.521 48.5634 101.486 47.3868 102.421 45.9122C102.423 45.9081 102.426 45.9041 102.428 45.9L102.456 45.8531L105.27 46.8351L103.072 55.3199C103.034 55.4128 102.995 55.5052 102.956 55.5982C102.926 55.6713 102.911 55.7495 102.911 55.8285V55.9438L102.447 57.7318H97.5163V57.7313ZM119.212 55.5836L118.605 51.4186H121.269C121.46 51.4186 121.639 51.3286 121.752 51.1758C121.866 51.023 121.901 50.8253 121.846 50.643L121.094 48.1372C121.018 47.8823 120.783 47.7079 120.517 47.7079H113.357C113.081 47.7079 112.839 47.8965 112.773 48.165C112.752 48.2468 112.727 48.3335 112.697 48.4236C112.658 48.5389 112.625 48.6516 112.597 48.7587C112.523 49.0065 112.334 49.6341 112.029 50.6415C111.974 50.824 112.008 51.0218 112.122 51.175C112.236 51.3282 112.415 51.4184 112.606 51.4184H115.312L114.762 55.5834H104.267C104.485 55.0621 104.706 54.5471 104.924 54.0464C105.217 53.3751 105.495 52.7286 105.749 52.1287C106.269 50.9231 106.782 49.7102 107.273 48.5234C107.758 47.3531 108.248 46.1257 108.729 44.8758L111.879 36.7135C111.951 36.5282 111.926 36.3195 111.814 36.1558C111.702 35.9921 111.516 35.8942 111.317 35.8942H107.956L109.384 31.4728C110.996 31.5749 112.869 31.6431 114.959 31.676C117.224 31.7116 119.13 31.7297 120.625 31.7297H122.093C122.654 33.8382 123.39 36.158 124.28 38.6275L126.964 46.3577C127.559 48.0966 128.369 50.2844 129.37 52.8565C129.561 53.3585 129.757 53.8728 129.961 54.3985C130.111 54.7886 130.263 55.1856 130.414 55.5838H119.212V55.5836Z" fill="#2B2B2B"/>
                <path d="M42.423 41.753H45.3228C45.9321 41.753 46.492 41.6384 46.9873 41.4126C47.5083 41.1745 47.9189 40.8302 48.2073 40.3893C48.4983 39.9453 48.6459 39.4426 48.6459 38.8955C48.6459 38.3483 48.4985 37.8464 48.2073 37.4016C47.9183 36.9608 47.5079 36.6166 46.9869 36.3787C46.4913 36.1525 45.9314 36.0379 45.3228 36.0379H42.423C42.0902 36.0379 41.8204 36.3077 41.8204 36.6404V41.1509C41.8204 41.4836 42.0902 41.7534 42.423 41.7534V41.753ZM43.0255 37.2426H45.3228C45.7576 37.2426 46.1493 37.3206 46.4865 37.4745C46.8017 37.6185 47.0349 37.8106 47.1994 38.0615C47.3619 38.3099 47.4409 38.5827 47.4409 38.8953C47.4409 39.2079 47.3619 39.4808 47.1994 39.7288C47.0347 39.9802 46.8017 40.1723 46.4867 40.3162C46.1499 40.4699 45.7583 40.5478 45.3226 40.5478H43.0253V37.2422L43.0255 37.2426Z" fill="#2B2B2B"/>
                <path d="M47.7159 45.8538C47.2174 45.6115 46.6531 45.4886 46.0388 45.4886H42.423C42.0902 45.4886 41.8204 45.7584 41.8204 46.0911V50.673C41.8204 51.0058 42.0902 51.2756 42.423 51.2756H46.0388C46.9945 51.2756 47.7888 51.01 48.3996 50.4865C49.0383 49.939 49.362 49.2309 49.362 48.382C49.362 47.8361 49.2143 47.3338 48.9229 46.8885C48.6369 46.4521 48.2307 46.1041 47.7159 45.8538ZM47.6155 49.5717C47.2237 49.9076 46.7081 50.0707 46.0388 50.0707H43.0255V46.6937H46.0388C46.4691 46.6937 46.8561 46.7758 47.1892 46.9376C47.5103 47.0937 47.7478 47.2936 47.915 47.5488C48.0779 47.7978 48.1571 48.0703 48.1571 48.382C48.1571 48.8769 47.9849 49.2549 47.6155 49.5717Z" fill="#2B2B2B"/>
                <path d="M70.7133 43.0289C70.7086 43.0073 70.7027 42.9859 70.6957 42.9651L70.6241 42.7503C70.5979 42.6717 70.5712 42.6027 70.5431 42.541C70.1135 41.185 69.6911 39.9859 69.2873 38.9763C68.866 37.9233 68.4339 37.0804 68.0026 36.4712C67.8688 36.2822 67.6385 36.1866 67.4102 36.2254C67.1819 36.2641 66.9959 36.4302 66.9319 36.6526L64.9632 43.4897C64.9108 43.6717 64.947 43.8675 65.0609 44.0188C65.1747 44.1699 65.353 44.2589 65.5421 44.2589H70.2316C70.4136 44.2589 70.5857 44.1766 70.7002 44.035C70.8146 43.8935 70.8589 43.7078 70.8207 43.53L70.7131 43.0289H70.7133ZM66.3427 43.0538L67.6975 38.3485C67.8542 38.6718 68.0114 39.0305 68.1689 39.4236C68.5654 40.4153 68.9821 41.5995 69.4069 42.9433C69.4165 42.9734 69.4283 43.0025 69.4424 43.0308C69.4444 43.0348 69.4479 43.0422 69.4529 43.0538H66.3429H66.3427Z" fill="#2B2B2B"/>
                <g filter="url(#filter0_d_140_31)">
                  <path d="M74.7384 60.0749C74.3843 60.6665 73.8822 61.1703 73.2671 61.5254L49.9503 74.9873C48.6813 75.7199 47.1046 75.7199 45.8355 74.9873L22.5188 61.5254C21.2497 60.7928 20.4613 59.4272 20.4613 57.9618V31.038C20.4613 29.5726 21.2497 28.2072 22.5188 27.4744L45.8355 14.0126C46.47 13.6463 47.1815 13.463 47.8929 13.463C48.6043 13.463 49.3159 13.6463 49.9503 14.0126L73.2671 27.4744C73.8822 27.8295 74.3843 28.3333 74.7384 28.9249H75.2686C75.238 28.866 75.206 28.8075 75.1728 28.75C74.7716 28.0552 74.1926 27.4761 73.4978 27.0749L50.181 13.613C49.4862 13.212 48.6951 13 47.8929 13C47.0907 13 46.2994 13.212 45.6048 13.613L22.2881 27.0749C21.5933 27.4759 21.0142 28.0552 20.613 28.75C20.212 29.4447 20 30.2359 20 31.038V57.962C20 58.7641 20.212 59.5553 20.613 60.25C21.014 60.9448 21.5933 61.5239 22.2881 61.9251L45.6048 75.387C46.2996 75.788 47.0907 76 47.8929 76C48.6951 76 49.4862 75.788 50.181 75.387L73.4978 61.9251C74.1926 61.5241 74.7716 60.9448 75.1728 60.25C75.206 60.1925 75.238 60.134 75.2686 60.0751H74.7384V60.0749Z" fill="#2B2B2B"/>
                </g>
                <defs>
                  <filter id="filter0_d_140_31" x="0" y="0" width="95.2686" height="103" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="7"/>
                    <feGaussianBlur stdDeviation="10"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 1 0 0 0 0 0.901961 0 0 0 0.75 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_140_31"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_140_31" result="shape"/>
                  </filter>
                </defs>
              </svg>
            </router-link>

          </div>

          <div class="nav">
            <top-menu></top-menu>

          </div>
        </div>
      </div>
    </header>
    <section class="main">
      <div class="row">
        <div class="sidebar">
          <sidebar-menu></sidebar-menu>
        </div>

        <div class="content">

          <router-view v-slot="{ Component, route }">
            <transition :name="$route.meta.transition" mode="in-out">
              <div :key="route">
                <component :is="Component" :key="route.path"></component>
              </div>

            </transition>
          </router-view>

        </div>
      </div>
    </section>
    <footer class="footer">

    </footer>

  </div>


</template>

<style scoped>

</style>
